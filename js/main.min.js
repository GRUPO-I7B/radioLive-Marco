function radioTitle(){$.ajax({type:"GET",url:"http://142.4.21.132:4000/iradio.xspf",async:!0,cache:!1,dataType:"xml",success:function(c){(c=$(c).find("track").find("title").text())?($(".live_tag").toggle(!1),$("#current_track_title").text(c)):fetchCustomTitle()},error:function(c){console.log(c.message)}})}function fetchCustomTitle(){$(".live_tag").toggle(!0);$("#current_track_title").text("Live Streaming")}
$(document).ready(function(){function c(){"play"!=d?(d="play",$("#radio").addClass("play"),b.jPlayer("play")):($("#radio .circle").removeClass("rotate"),$("#radio").removeClass("play"),d="pause",b.jPlayer("pause"))}function g(a){a=3.6*a+"deg";$("#radio .progress").css({rotate:a})}function l(a){a=3.6*a+"deg";$("#radio .buffer").css({rotate:a})}function h(a,c){var b=k,d=b.offset(),e=a-d.left-b.width()/2,b=c-d.top-b.height()/2,e=Math.atan2(b,e);e>-1*Math.PI&&e<-.5*Math.PI&&(e=2*Math.PI+e);return(e+Math.PI/
2)/2*Math.PI*10}var f=!1,b=$("#radio .player");$("#card");b.jPlayer({ready:function(){$(this).jPlayer("setMedia",{mp3:"http://142.4.21.132:4000/iradio"}).jPlayer("play")},swfPath:"",supplied:"mp3",preload:"auto",smoothPlayBar:"true"});var d="play";$("#radio").addClass("play");b.bind($.jPlayer.event.progress,function(a){a=$("#radio audio").get(0);var b=0;void 0!=a.buffered&&0!=a.buffered.length&&(b=parseInt(a.buffered.end(0)/a.duration*100,10),l(b),99<=b&&$("#radio .buffer").addClass("loaded"));radioTitle();
setTimeout(function(){radioTitle()},2E3);setInterval(function(){radioTitle()},15E3)});b.bind($.jPlayer.event.timeupdate,function(a){a=a.jPlayer.status.currentPercentAbsolute;f||g(a)});b.bind($.jPlayer.event.ended,function(a){$("#radio .circle").removeClass("rotate");$("#radio").removeClass("play");$("#radio .progress").css({rotate:"0deg"});d="stop"});$("#radio .button").bind("mousedown",function(){$(this).bind("mouseleave",function(){$(this).unbind("mouseleave");c()})});$("#radio .button").bind("mouseup",
function(){$(this).unbind("mouseleave");c()});var k=$("#radio .drag");k.grab({onstart:function(){f=!0;$("#radio .button").css("pointer-events","none")},onmove:function(a){a=h(a.position.x,a.position.y);b.jPlayer("playHead",a).jPlayer("play");g(a)},onfinish:function(a){f=!1;a=h(a.position.x,a.position.y);b.jPlayer("playHead",a).jPlayer("play");$("#radio .button").css("pointer-events","auto")}})});